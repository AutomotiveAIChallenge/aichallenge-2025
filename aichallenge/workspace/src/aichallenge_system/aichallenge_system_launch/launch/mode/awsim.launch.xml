<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <!-- Workaround because the simulator cannot use the service. -->
    <node pkg="aichallenge_system_launch" exec="control_mode_adapter.py" output="screen"/>

    <!-- Safety System Test -->
    <group>
        <push-ros-namespace namespace="safety"/>
        <!-- Route Deviation Safety Monitor -->
        <!-- <node pkg="aichallenge_system_launch" exec="route_safety_monitor.py" name="route_safety_monitor" output="screen" launch-prefix="bash -c 'sleep 50; $0 $@'">
            <param name="enable_visualization" value="false"/>
        </node> -->
    </group>

    <!-- Adaptors for AWSIM -->
    <group>
        <include file="$(find-pkg-share aichallenge_awsim_adapter)/launch/aichallenge_awsim_adapter.launch.xml"/>
    </group>

    <node pkg="topic_tools" exec="relay" name="relay_velocity">
        <param name="input_topic" value="/awsim/velocity_status"/>
        <param name="output_topic" value="/vehicle/status/velocity_status"/>
    </node>
</launch>
